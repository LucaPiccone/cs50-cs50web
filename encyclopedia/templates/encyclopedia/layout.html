{% load static %}

<!DOCTYPE html>

<html lang="en">
    <head>
        <title>{% block title %}{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="{% static 'encyclopedia/styles.css' %}" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    </head>
    <body>
        <div class="row">
            <div class="sidebar col-lg-2 col-md-3">
                <h2>Wiki</h2>
                <form id="search_form" method="post" action="{% url 'encyclopedia:search' %}">
                    {% csrf_token %}
                    <input autocomplete="off" id="inputSearch" class="search" type="text" name="q" placeholder="Search Encyclopedia">
                    <div class="" id="searchList"></div>
                </form>
                
                <div>
                    <a href="{% url 'encyclopedia:index' %}">Home</a>
                </div>
                <div>
                    <a href="{% url 'encyclopedia:create' %}">Create New Page</a>
                </div>
                <div>
                    <a href="{%  url 'encyclopedia:randompage' %}">Random Page</a>
                </div>
                {% block nav %}
                {% endblock %}
            </div>
            <div class="main col-lg-10 col-md-9">
                {% block body %}
                {% endblock %}
            </div>
        </div>

    </body>
    
    <script>
        
        // document.addEventListener('DOMContentLoaded', () => {
        //     document.querySelector('#inputSearch').addEventListener('keyup', function(event) {
        //         search = document.querySelector('#inputSearch').value.toLowerCase()
        //         // console.log(search)
        //         $.ajax({
        //             url: "{% url 'encyclopedia:search' %}",
        //             data: {'data': search},
        //             type: 'GET',
        //             success: function(response) {
        //                 //console.log(response.data)
        //                 document.querySelector('#searchList').innerHTML = response.data
        //                 if (search === "") {
        //                     document.querySelector('#searchList').innerHTML = ""
        //                 }
        //             },
        //             error: function(error) {
        //                 console.log(error);
        //             }
        //         });
        //     })
        // })
    </script>

</html>